{
  "Application": {
    "Name": "Rtl.Core",
    "DisplayName": "Modular Template API",
    "ShortName": "rtl-core",
    "DatabaseName": "Rtl.Core",
    "Modules": ["samplesales", "sampleorders", "organization", "customer", "sales", "fees", "products"]
  },
  "ConnectionStrings": {
    "Database": "Host=localhost;Database=Rtl.Core;Username=postgres;Password=postgres",
    "Cache": "localhost:6379"
  },
  "Authentication": {
    "TenantId": "your-azure-ad-tenant-id",
    "Audience": "api://your-app-client-id",
    "RequireHttpsMetadata": true
  },
  "Features": {
    "Infrastructure": {
      "Outbox": true,
      "Inbox": true,
      "Emails": true,
      "CdcEvents": true,
      "BackgroundJobs": true
    }
  },
  "Messaging": {
    "Outbox": {
      "IntervalInSeconds": 10,
      "BatchSize": 20,
      "MaxRetries": 5
    },
    "Inbox": {
      "IntervalInSeconds": 10,
      "BatchSize": 20,
      "MaxRetries": 5
    },
    "AwsMessaging": {
      "EventBusName": "",
      "EventSource": "",
      "SqsQueueUrl": "",
      "PollingIntervalSeconds": 5,
      "MaxMessages": 10,
      "VisibilityTimeoutSeconds": 30
    }
  },
  "Caching": {
    "DefaultExpirationMinutes": 5
  },
  "Cors": {
    "AllowedOrigins": []
  },
  "HealthChecks": {
    "OutboxLag": {
      "DegradedThresholdSeconds": 60,
      "UnhealthyThresholdSeconds": 300,
      "DegradedCountThreshold": 100,
      "UnhealthyCountThreshold": 1000
    },
    "InboxLag": {
      "DegradedThresholdSeconds": 60,
      "UnhealthyThresholdSeconds": 300,
      "DegradedCountThreshold": 100,
      "UnhealthyCountThreshold": 1000
    },
    "SqsQueueDepth": {
      "QueueUrl": "",
      "DegradedThreshold": 1000,
      "UnhealthyThreshold": 10000,
      "IncludeDeadLetterQueue": true,
      "DeadLetterQueueUrl": "",
      "DeadLetterQueueUnhealthyThreshold": 1
    },
    "ModuleDefaults": {
      "OutboxDegradedThresholdSeconds": 60,
      "OutboxUnhealthyThresholdSeconds": 300,
      "OutboxDegradedCountThreshold": 50,
      "OutboxUnhealthyCountThreshold": 500
    }
  },
  "Serilog": {
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "Microsoft.EntityFrameworkCore": "Warning",
        "Microsoft.AspNetCore": "Warning",
        "Microsoft.AspNetCore.Hosting.Diagnostics": "Information",
        "System": "Warning",
        "Quartz": "Warning"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {Message:lj}{NewLine}{Exception}"
        }
      }
    ],
    "Enrich": ["FromLogContext", "WithCorrelationId"],
    "Properties": {
      "Application": "Rtl.Core"
    }
  },
  "AllowedHosts": "*",
  "RateLimiting": {
    "PermitLimit": 100,
    "WindowInSeconds": 60,
    "QueueLimit": 0
  },
  "Resilience": {
    "Retry": {
      "MaxRetryAttempts": 3,
      "BaseDelayMilliseconds": 1000,
      "UseJitter": true
    },
    "CircuitBreaker": {
      "SamplingDurationSeconds": 10,
      "FailureRatio": 0.2,
      "MinimumThroughput": 3,
      "BreakDurationSeconds": 30
    },
    "Timeout": {
      "TotalTimeoutSeconds": 30,
      "AttemptTimeoutSeconds": 10
    }
  }
}
